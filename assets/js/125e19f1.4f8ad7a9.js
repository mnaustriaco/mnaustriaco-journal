"use strict";(self.webpackChunkmizuko_journal=self.webpackChunkmizuko_journal||[]).push([[1784],{2356:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>s,metadata:()=>l,toc:()=>a});var t=r(5893),i=r(1151);const s={sidebar_position:4},o="Registering API FQDN to LAN",l={id:"tutorials/registering-api-fqdn",title:"Registering API FQDN to LAN",description:"The below step will guide you on how to register your application to the",source:"@site/docs/tutorials/registering-api-fqdn.md",sourceDirName:"tutorials",slug:"/tutorials/registering-api-fqdn",permalink:"/docs/tutorials/registering-api-fqdn",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"tutsSidebar",previous:{title:"Point of Sale Migration - Shopping Cart Concurrency Solutioning",permalink:"/docs/tutorials/shopping-cart-prob"}},d={},a=[{value:"Register to your respective hosts file.",id:"register-to-your-respective-hosts-file",level:2},{value:"Configure reverse-proxy to your applications",id:"configure-reverse-proxy-to-your-applications",level:2}];function c(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",...(0,i.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"registering-api-fqdn-to-lan",children:"Registering API FQDN to LAN"}),"\n",(0,t.jsx)(n.p,{children:"The below step will guide you on how to register your application to the\r\nnginx."}),"\n",(0,t.jsx)(n.h2,{id:"register-to-your-respective-hosts-file",children:"Register to your respective hosts file."}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["For our current setup, we are using the ",(0,t.jsx)(n.code,{children:"hosts.atlas"})," for APIs deployed via Docker."]}),"\n",(0,t.jsxs)(n.li,{children:["Access the directory via ",(0,t.jsx)(n.code,{children:"etc/hosts/"})]}),"\n",(0,t.jsxs)(n.li,{children:["edit the text file using ",(0,t.jsx)(n.code,{children:"sudo nano hosts.atlas"}),"."]}),"\n",(0,t.jsx)(n.li,{children:"underneath, add an entry with the ff. format:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"192.168.100.60 fqdn.home.arpa\n"})}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsx)(n.p,{children:"Our DnsMasq/NGINX is deployed in 192.168.100.60."})}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsx)(n.p,{children:"For applications in LAN, it is recommended to use home.arpa."})}),"\n",(0,t.jsxs)(n.ol,{start:"5",children:["\n",(0,t.jsxs)(n.li,{children:["Save the text file using ",(0,t.jsx)(n.code,{children:"Ctrl+O"}),"."]}),"\n",(0,t.jsx)(n.li,{children:"Restart the DNSMasq using"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"systemctl restart dnsmasq.service\n"})}),"\n",(0,t.jsxs)(n.ol,{start:"7",children:["\n",(0,t.jsx)(n.li,{children:"If you input your FQDN to your browser, you will see the NGINX homepage. We should proceed to the next step..."}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"configure-reverse-proxy-to-your-applications",children:"Configure reverse-proxy to your applications"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Traverse to ",(0,t.jsx)(n.code,{children:"/etc/nginx/sites-enabled"})]}),"\n",(0,t.jsxs)(n.li,{children:["You will see that there is a ",(0,t.jsx)(n.code,{children:"atlas-dev"})," setup there, but feel free to create your own file:"]}),"\n",(0,t.jsxs)(n.li,{children:["edit the file using ",(0,t.jsx)(n.code,{children:"sudo nano atlas-dev"})]}),"\n",(0,t.jsx)(n.li,{children:"add another entry:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"server {\r\n        listen 80;\r\n        server_name [YOUR_FQDN];\r\n\r\n        location / {\r\n                proxy_pass http://[DEPLOYMENT_LOCATION_HOST]:[YOUR_PORT];\r\n                proxy_set_header X-Real-IP $remote_addr;\r\n                proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\r\n                proxy_set_header Host $http_host;\r\n        }\r\n}\n"})}),"\n",(0,t.jsxs)(n.ol,{start:"5",children:["\n",(0,t.jsx)(n.li,{children:"Restart the nginx using:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"systemctl restart nginx.service\n"})}),"\n",(0,t.jsxs)(n.ol,{start:"6",children:["\n",(0,t.jsx)(n.li,{children:"Test your changes."}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},1151:(e,n,r)=>{r.d(n,{Z:()=>l,a:()=>o});var t=r(7294);const i={},s=t.createContext(i);function o(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);